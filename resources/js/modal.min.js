class primeModal{constructor(e){this.$=e,this.data=e.dataset,this.actions(),this.trigger()}actions(){var e=this;jQuery(document).bind("gform_confirmation_loaded",function(){jQuery(".closebutton").click(),e.cookie(e.data.complete,!0)}),jQuery(".closebutton").on("click",function(e){if("#"==jQuery(this).attr("href")&&e.preventDefault(),jQuery.magnificPopup.close(),"#"==jQuery(this).attr("href"))return!1})}open(el=!1,options={}){var _this=this,args=Object.assign({showCloseBtn:!1,mainClass:"mfp-fade",removalDelay:300,fixedContentPos:!0,items:{src:"#"+this.$.id,type:"inline"},callbacks:{beforeOpen:function(){_this.mobile()&&(_this.startWindowScroll=window.scrollY)},open:function(){this.currItem.inlineElement[0].querySelector(".scripts")&&eval(this.currItem.inlineElement[0].querySelector(".scripts").innerHTML)},close:function(){_this.mobile()&&window.scrollTo(0,_this.startWindowScroll),_this.snooze()}}},options);el?jQuery(el).magnificPopup(args):jQuery.magnificPopup.open(args)}trigger(){var e=this,t=this.read("modal-"+this.data.id),i=parseInt(this.data.snooze),o=this.read("modal-"+this.data.id+"-snooze");if(1!=t&&(0===i||null===o||o>=i))switch(this.data.trigger){case"click":this.open('a[href="#'+this.$.id+'"]');break;case"immediately":this.open();break;case"leave":var n=!0;this.mobile()||document.addEventListener("mouseleave",function(t){null===t.toElement&&null===t.relatedTarget&&n&&!jQuery(".mfp-bg").length&&(n=!1,e.open())},!1);break;case"scroll":var a=!0,s=this.mobile()?this.data.mobile:this.data.desktop,r=this.mobile()?this.data.mMeasurement:this.data.dMeasurement,c=Math.max(document.documentElement.clientHeight,window.innerHeight||0),l=document.documentElement.scrollHeight-c;window.addEventListener("scroll",function(){if(a){var t=document.documentElement.scrollTop||document.body.scrollTop;if(t>0)switch(r){case"%":t/l*100>=s&&(e.open(),a=!1);break;case"px":t>=s&&(e.open(),a=!1);break;case"vh":t/c>=s/100&&(e.open(),a=!1)}}});break;case"time":var h=this.mobile()?this.data.mobile:this.data.desktop;setTimeout(function(){e.open()},h)}else o<=i&&this.snooze()}snooze(){if("0"!==this.data.snooze){var e="modal-"+this.data.id+"-snooze",t=this.read(e);t?(t=parseInt(t)+1)>this.data.snooze&&(t=1):t=1,this.cookie(e,t,7)}}cookie(e,t,i=!1){var o=new Date,n="";i?(o.setTime(o.getTime()+24*i*60*60*1e3),n="; expires="+o.toGMTString()):t=o.toGMTString(),document.cookie=e+"="+t+n+"; path=/"}erase(e){this.cookie(e,"",-1)}read(e){for(var t=e+"=",i=document.cookie.split(";"),o=0;o<i.length;o++){for(var n=i[o];" "==n.charAt(0);)n=n.substring(1,n.length);if(0==n.indexOf(t))return n.substring(t.length,n.length)}return null}mobile(){return!!(navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i))}}